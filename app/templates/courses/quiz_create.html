{% extends "base.html" %}
{% block title %}クイズ作成 - {{ lesson.title }} - Learning SaaS{% endblock %}
{% block content %}
  <h1 class="h4 mb-3">クイズ作成（{{ lesson.title }}）</h1>

  <form method="post" class="col-lg-8">
    <div class="mb-3">
      <label class="form-label">表示順（数字）</label>
      <input type="number" name="sort_order" class="form-control" value="1" required>
    </div>

    <div class="mb-3">
      <label class="form-label">問題文</label>
      <textarea name="question_text" class="form-control" rows="3" required></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">解説（任意）</label>
      <textarea name="explanation" class="form-control" rows="3"></textarea>
    </div>

    <hr>

    <p class="fw-bold">選択肢（1〜4）と正解を選んでください</p>

    {% for i in range(1, 5) %}
      <div class="mb-2 d-flex align-items-center gap-2">
        <div class="form-check">
          <input class="form-check-input"
                 type="radio"
                 name="correct_choice"
                 id="correct{{ i }}"
                 value="{{ i }}"
                 {% if i == 1 %}checked{% endif %}>
          <label class="form-check-label" for="correct{{ i }}">
            正解
          </label>
        </div>
        <input type="text"
               class="form-control"
               name="choice{{ i }}"
               placeholder="選択肢 {{ i }}">
      </div>
    {% endfor %}

    <div class="mt-3">
      <button class="btn btn-primary">保存</button>
      <a class="btn btn-outline-secondary"
         href="{{ url_for('main.quiz_manage', lesson_id=lesson.id) }}">
        キャンセル
      </a>
    </div>
  </form>
{% endblock %}
